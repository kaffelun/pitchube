# pitchube

webaudioapiを使って動画や音声タグのピッチ変更を行うブックマークレット。
一応youtubeとニコ動用。
ヘッダ部分に出てくる数値入力欄に値(負数、小数も可)を入れると、そのぶんだけ半音単位で音程が変化する。(12でオクターブ上がる)

`logo` と `siteHeader` の部分を適当なidに変えると、html5の動画や音声のある別のサイトでも使えるはず。

PC版Chrome,Firefoxでのみ動作確認済み。
そこそこのスペックのデスクトップPCなら基本的に動くはず。
ノートパソコンとスマホでも動くがラグが激しいので非推奨。ゲーミングノートならまともに動くかもしれない。

コード途中にある仮引数 `(a, b, c, d, e, f)` に入る実引数 `(1, 4096, 4, 1024, 2, j)` はそれぞれ
デフォルト倍率,一回当たりのデータ量,(たぶん)何かのチャンネル数,FFTのサイズ,音声チャンネル数(1でモノラル、2でステレオ)になっているので、
ラグがひどい場合はモノラルに変えたりするとマシになる。

停止したまま放置すると音程がおかしくなるバグがある。(おそらく中のバッファが壊れている。)